{"openapi":"3.1.0","info":{"title":"Integra√ß√£o SIRC API","description":"API para integra√ß√£o e cruzamento de dados SIRC x SIGPES","contact":{"name":"CCA-RJ","email":"paulosergiopscm@fab.mil.br"},"version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Local"},{"url":"https://sta.fab.mil.br","description":"Homologa√ß√£o"},{"url":"https://prd.fab.mil.br","description":"Produ√ß√£o"}],"tags":[{"name":"Files","description":"Endpoints para gerenciamento do ciclo de vida de arquivos SIRC (upload, consulta, agendamento, processamento e exclus√£o)"},{"name":"Crossings","description":"Endpoints para consulta de cruzamentos individuais entre registros de √≥bito SIRC e o SIGPES"},{"name":"Audit","description":"Endpoints para auditoria de matching (processamento on-demand)"},{"name":"File Crossings","description":"Endpoints para consulta de estat√≠sticas agregadas de cruzamentos por arquivo processado"}],"paths":{"/api/v1/files/{fileId}/schedule":{"post":{"tags":["Files"],"summary":"Agenda processamento de arquivo","description":"Define uma data futura para processamento autom√°tico do arquivo.\n\n**Valida√ß√µes:**\n- Data deve ser futura (n√£o pode ser no passado)\n- Arquivo deve estar no status UPLOADED\n\n**Comportamento:**\n- Status alterado para SCHEDULED\n- Processamento ser√° executado automaticamente na data agendada\n- Pode ser reagendado antes da execu√ß√£o\n","operationId":"scheduleFile","parameters":[{"name":"fileId","in":"path","description":"UUID do arquivo a ser agendado","required":true,"schema":{"type":"string","format":"uuid"},"example":"550e8400-e29b-41d4-a716-446655440000"}],"requestBody":{"description":"Data de agendamento","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleRequest"},"example":{"scheduledDate":"2024-12-31"}}},"required":true},"responses":{"200":{"description":"Arquivo agendado com sucesso"},"400":{"description":"Data inv√°lida ou no passado, ou arquivo em status inadequado"},"404":{"description":"Arquivo n√£o encontrado com o ID fornecido"}}}},"/api/v1/files/{fileId}/process":{"post":{"tags":["Files"],"summary":"Processa arquivo imediatamente","description":"Inicia o processamento imediato do arquivo SIRC, executando o cruzamento\nentre registros de √≥bito e benefici√°rios SIGPES.\n\n**Opera√ß√µes executadas:**\n1. Valida√ß√£o de integridade do arquivo XML\n2. Parsing e normaliza√ß√£o dos registros de √≥bito\n3. Aplica√ß√£o de algoritmos de matching:\n   - Jaro-Winkler para similaridade de strings\n   - Damerau-Levenshtein para nomes\n   - Compara√ß√£o exata de CPF e datas\n4. C√°lculo de scores e n√≠veis de evid√™ncia\n5. Persist√™ncia dos resultados (FileCrossing e Crossing)\n6. Atualiza√ß√£o de status do arquivo\n\n**Aten√ß√£o:**\n- Opera√ß√£o pode demorar dependendo do tamanho do arquivo\n- Processamento √© ass√≠ncrono\n- Arquivo com 10.000 registros leva aproximadamente 2-5 minutos\n\n**Status poss√≠veis ap√≥s processamento:**\n- PROCESSED: Processamento conclu√≠do com sucesso\n- ERROR: Erro durante o processamento\n","operationId":"processFile","parameters":[{"name":"fileId","in":"path","description":"UUID do arquivo a ser processado","required":true,"schema":{"type":"string","format":"uuid"},"example":"550e8400-e29b-41d4-a716-446655440000"}],"responses":{"202":{"description":"Processamento iniciado com sucesso (opera√ß√£o ass√≠ncrona)"},"400":{"description":"Arquivo em status inadequado para processamento ou falha na valida√ß√£o de integridade"},"404":{"description":"Arquivo n√£o encontrado com o ID fornecido"},"500":{"description":"Erro interno durante o processamento"}}}},"/api/v1/files/upload":{"post":{"tags":["Files"],"summary":"Upload de arquivos XML SIRC","description":"            Realiza upload de um ou mais arquivos XML contendo registros de √≥bito do SIRC.\n            **IMPORTANTE**: os arquivos devem estar com o nome original fornecido pelo SIRC.\n\n            **Valida√ß√µes aplicadas:**\n            - M√°ximo de 7 arquivos por requisi√ß√£o\n            - Tamanho m√°ximo de 30MB por arquivo\n            - Apenas arquivos com extens√£o .xml\n            - CPF do usu√°rio √© obrigat√≥rio (11 d√≠gitos)\n\n            **Processamento:**\n            - Arquivos s√£o validados quanto a extens√£o e tamanho\n            - Metadados s√£o extra√≠dos e armazenados\n            - Status inicial: SALVO\n            - Arquivos ficam dispon√≠veis para agendamento ou processamento imediato\n\n            **Exemplo de uso com curl:**\n```bash\n            curl -X POST http://localhost:8080/api/v1/files/upload \\\n              -H \"Content-Type: multipart/form-data\" \\\n              -F \"files=@D.SRC.OBI.000.20250920.xml\" \\\n              -F \"files=@D.SRC.OBI.000.20250921.xml\" \\\n              -F \"uploadedBy=12345678901\"\n```\n","operationId":"uploadFiles","parameters":[{"name":"uploadedBy","in":"query","description":"CPF do usu√°rio respons√°vel pelo upload (11 d√≠gitos)","required":true,"schema":{"type":"string"},"example":12345678901}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"files":{"type":"array","description":"Lista de arquivos XML SIRC (m√°x 7 arquivos, 30MB cada)","items":{"type":"string","format":"binary"}}},"required":["files"]}}}},"responses":{"201":{"description":"Upload realizado com sucesso"},"400":{"description":"Valida√ß√£o falhou (n√∫mero de arquivos, tamanho, formato ou CPF inv√°lido)"},"413":{"description":"Tamanho do arquivo excede o limite permitido (30MB)"},"415":{"description":"Tipo de m√≠dia n√£o suportado (apenas .xml permitido)"}}}},"/api/v1/audit/matching":{"post":{"tags":["Audit"],"summary":"Solicita auditoria de matching para pessoa espec√≠fica","description":"**üîç O que faz:** Executa processamento completo de matching sob demanda\npara UMA pessoa espec√≠fica contra TODOS os arquivos de um per√≠odo.\n\n**‚öôÔ∏è Processamento:**\n- Carrega pessoa pessoa por banco de dados\n- Para cada arquivo do m√™s: processa ~10k √≥bitos vs pessoa\n- Aplica algoritmo de matching completo (Jaro-Winkler, Damerau-Levenshtein, sliding window do CPF, etc)\n- Retorna TODOS os resultados (sem filtro de threshold)\n\n**üìä Performance:**\n- T√≠pico: 30-60 segundos para m√™s completo\n- Volume: ~300k compara√ß√µes para arquivo mensal\n- CPU: Alto durante processamento\n- Mem√≥ria: ~100-200 MB pico\n\n**üéØ Casos de uso:**\n- Investigar \"por que pessoa X n√£o cruzou com √≥bito Y?\"\n- An√°lise de qualidade do algoritmo\n- Valida√ß√£o de ajustes em thresholds/pesos\n- Auditoria de casos pontuais\n\n**‚ö†Ô∏è Importante:**\n- Opera√ß√£o custosa - n√£o usar em loops\n- N√£o persiste nenhum dado\n- Recomendado: uso pontual para an√°lise\n","operationId":"auditPersonMatching","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditMatchingRequest"}}},"required":true},"responses":{"200":{"description":"Auditoria executada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditReport"}}}},"404":{"description":"Pessoa n√£o encontrada ou sem arquivos para o per√≠odo"},"400":{"description":"Par√¢metros inv√°lidos no request body"},"500":{"description":"Erro interno durante processamento"}}}},"/api/v1/files":{"get":{"tags":["Files"],"summary":"Lista arquivos SIRC","description":"            Retorna uma lista paginada de arquivos SIRC com suporte a filtros din√¢micos.\n\n            **Par√¢metros de query aceitos:**\n            - `fileName`: Filtro por nome do arquivo (busca parcial, case-insensitive)\n            - `status`: Filtro por status (UPLOADED, SCHEDULED, PROCESSING, PROCESSED, ERROR, DELETED)\n            - `uploadedBy`: Filtro por CPF do usu√°rio que fez upload\n            - `uploadDateFrom`: Data inicial do per√≠odo de upload (formato: yyyy-MM-dd)\n            - `uploadDateTo`: Data final do per√≠odo de upload (formato: yyyy-MM-dd)\n            - `page`: N√∫mero da p√°gina (inicia em 0)\n            - `size`: Tamanho da p√°gina (padr√£o: 20)\n            - `sort`: Ordena√ß√£o (ex: uploadDate,desc ou fileName,asc)\n\n            **Exemplo de requisi√ß√£o com filtros:**\n```\n            GET /api/v1/files?fileName=sirc&status=PROCESSADO&page=0&size=20&sort=uploadDate,desc\n```\n","operationId":"getFiles","parameters":[{"name":"fileName","in":"query","description":"Nome do arquivo SIRC (busca parcial, case-insensitive)","required":false,"schema":{"type":"string","description":"Nome do arquivo SIRC (busca parcial, case-insensitive)","example":"D.SRC.OBI.000.20250920","maxLength":30,"minLength":0},"example":"D.SRC.OBI.000.20250920"},{"name":"startMonthYear","in":"query","description":"M√™s/ano inicial do per√≠odo de upload/processamento","required":false,"schema":{"type":"string","format":"year-month","description":"M√™s/ano inicial do per√≠odo de upload/processamento","example":"2024-01","pattern":"^\\d{4}-(0[1-9]|1[0-2])$"},"example":"2024-01"},{"name":"endMonthYear","in":"query","description":"M√™s/ano final do per√≠odo de upload/processamento","required":false,"schema":{"type":"string","format":"year-month","description":"M√™s/ano final do per√≠odo de upload/processamento","example":"2024-12","pattern":"^\\d{4}-(0[1-9]|1[0-2])$"},"example":"2024-12"},{"name":"status","in":"query","description":"Status do arquivo no sistema","required":false,"schema":{"type":"string","description":"Status do arquivo no sistema","enum":["SALVO","EXTRAINDO","EXTRAIDO","AGENDADO","EM_CRUZAMENTO","CRUZADO","ERRO","DELETADO"],"example":"SALVO"},"example":"SALVO"},{"name":"page","in":"query","description":"Zero-based page index (0..N)","required":false,"schema":{"type":"integer","default":0,"minimum":0}},{"name":"size","in":"query","description":"The size of the page to be returned","required":false,"schema":{"type":"integer","default":20,"minimum":1}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","required":false,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"Lista de arquivos retornada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page"}}}},"400":{"description":"Par√¢metros de consulta inv√°lidos"}}}},"/api/v1/file-crossings":{"get":{"tags":["File Crossings"],"summary":"Lista estat√≠sticas agregadas de cruzamentos por arquivo","description":"            Retorna estat√≠sticas consolidadas de processamento de arquivos SIRC,\n            fornecendo vis√£o executiva dos resultados sem necessidade de analisar\n            cada match individual.\n\n            **Informa√ß√µes retornadas por arquivo:**\n            - ID e nome do arquivo\n            - Data e hor√°rio do processamento\n            - Total de registros processados\n            - Total de matches encontrados\n            - Distribui√ß√£o por n√≠vel de evid√™ncia:\n              * ALTA: Matches com alto grau de certeza\n              * M√âDIA: Matches com grau moderado de certeza\n              * BAIXA: Matches com grau baixo de certeza\n            - Estat√≠sticas de campos correspondentes:\n              * Quantidade de matches por CPF\n              * Quantidade de matches por nome\n              * Quantidade de matches por data de nascimento\n            - Tempo de processamento em segundos\n\n            **Par√¢metros de query aceitos:**\n            - `fileId`: Filtro por ID do arquivo (UUID)\n            - `fileName`: Filtro por nome do arquivo (busca parcial)\n            - `monthYear`: Filtro por m√™s/ano de refer√™ncia (formato: yyyy-MM)\n            - `crossingDateFrom`: Data inicial do per√≠odo de processamento\n            - `crossingDateTo`: Data final do per√≠odo de processamento\n            - `page`: N√∫mero da p√°gina (inicia em 0)\n            - `size`: Tamanho da p√°gina (padr√£o: 20)\n            - `sort`: Ordena√ß√£o (ex: crossingDate,desc)\n\n            **Casos de uso:**\n            - Dashboards executivos com KPIs de processamento\n            - Monitoramento de qualidade dos arquivos recebidos\n            - An√°lise de tend√™ncias de matches ao longo do tempo\n            - Identifica√ß√£o de arquivos com anomalias\n            - Relat√≥rios gerenciais mensais\n\n            **Diferen√ßa entre FileCrossing e Crossing:**\n            - **FileCrossing**: Vis√£o agregada/estat√≠stica por arquivo (este endpoint)\n            - **Crossing**: Vis√£o detalhada registro a registro (/api/v1/crossings)\n\n            **Exemplo de requisi√ß√£o simples:**\n```\n            GET /api/v1/file-crossings?page=0&size=20&sort=crossingDate,desc\n```\n\n            **Exemplo com filtros:**\n```\n            GET /api/v1/file-crossings?fileName=sirc_202401&monthYear=2024-01&page=0&size=20\n```\n","operationId":"getFileCrossings","parameters":[{"name":"fileId","in":"query","description":"UUID do arquivo SIRC processado","required":false,"schema":{"type":"string","format":"uuid","description":"UUID do arquivo SIRC processado","example":"550e8400-e29b-41d4-a716-446655440000"},"example":"550e8400-e29b-41d4-a716-446655440000"},{"name":"fileName","in":"query","description":"Nome do arquivo SIRC (busca parcial, case-insensitive)","required":false,"schema":{"type":"string","description":"Nome do arquivo SIRC (busca parcial, case-insensitive)","example":"D.SRC.OBI.000.20250920","maxLength":30,"minLength":0},"example":"D.SRC.OBI.000.20250920"},{"name":"startMonthYear","in":"query","description":"M√™s/ano inicial do per√≠odo de consulta (refer√™ncia do arquivo)","required":false,"schema":{"type":"string","format":"year-month","description":"M√™s/ano inicial do per√≠odo de consulta (refer√™ncia do arquivo)","example":"2024-01","pattern":"^\\d{4}-(0[1-9]|1[0-2])$"},"example":"2024-01"},{"name":"endMonthYear","in":"query","description":"M√™s/ano final do per√≠odo de consulta (refer√™ncia do arquivo)","required":false,"schema":{"type":"string","format":"year-month","description":"M√™s/ano final do per√≠odo de consulta (refer√™ncia do arquivo)","example":"2024-12","pattern":"^\\d{4}-(0[1-9]|1[0-2])$"},"example":"2024-12"},{"name":"page","in":"query","description":"Zero-based page index (0..N)","required":false,"schema":{"type":"integer","default":0,"minimum":0}},{"name":"size","in":"query","description":"The size of the page to be returned","required":false,"schema":{"type":"integer","default":20,"minimum":1}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","required":false,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"Estat√≠sticas de cruzamentos retornadas com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page"},"examples":{"Exemplo de resposta":{"description":"Exemplo de resposta","value":{"content":[{"fileId":"550e8400-e29b-41d4-a716-446655440000","fileName":"sirc_janeiro_2024.xml","crossingDate":"2024-01-15T14:30:00","totalRecords":15000,"totalMatches":342,"highEvidenceCount":280,"mediumEvidenceCount":45,"lowEvidenceCount":17,"cpfMatchCount":280,"nameMatchCount":342,"birthDateMatchCount":315,"processingTimeSeconds":125}],"pageable":{"pageNumber":0,"pageSize":20,"sort":{"sorted":true,"unsorted":false,"empty":false}},"totalElements":45,"totalPages":3,"last":false,"first":true,"numberOfElements":20,"size":20,"number":0}}}}}},"400":{"description":"Par√¢metros de consulta inv√°lidos"}}}},"/api/v1/crossings":{"get":{"tags":["Crossings"],"summary":"Lista cruzamentos individuais","description":"Retorna uma lista paginada de cruzamentos individuais entre registros de √≥bito do SIRC\ne pessoal incluso no √∫ltimo pagamento do SIGPES, com informa√ß√µes detalhadas sobre scores de matching e\ncampos correspondentes.\n\n**Informa√ß√µes retornadas:**\n- ID do cruzamento\n- Dados do arquivo de origem\n- N√≠veis de matching do campos (nome, filia√ß√£o, data de nascimento, CPF)\n- N√≠vel de evid√™ncia total\n- Data do cruzamento\n\n**Filtros dispon√≠veis:**\n- fileId: ID do arquivo processado\n- fileName: Nome do arquivo (busca parcial)\n- crossingDateFrom/To: Per√≠odo de processamento\n- evidenceLevel: N√≠vel de evid√™ncia do match\n- CPF, Nome, Data de Nascimento, Filia√ß√£o: Filtros espec√≠ficos por campo\n- Saram\n","operationId":"getCrossings","parameters":[{"name":"fileCrossingId","in":"query","description":"ID do cruzamento de arquivo (FileCrossing) associado","required":false,"schema":{"type":"string","format":"uuid","description":"ID do cruzamento de arquivo (FileCrossing) associado","example":"550e8400-e29b-41d4-a716-446655440000"},"example":"550e8400-e29b-41d4-a716-446655440000"},{"name":"fileName","in":"query","description":"Nome do arquivo de origem (busca parcial, case-insensitive)","required":false,"schema":{"type":"string","description":"Nome do arquivo de origem (busca parcial, case-insensitive)","example":"D.SRC.OBI.000.20250920","maxLength":30,"minLength":0},"example":"D.SRC.OBI.000.20250920"},{"name":"cpf","in":"query","description":"CPF do benefici√°rio para busca (apenas d√≠gitos, busca com LIKE, m√≠nimo 5 d√≠gitos)","required":false,"schema":{"type":"string","description":"CPF do benefici√°rio para busca (apenas d√≠gitos, busca com LIKE, m√≠nimo 5 d√≠gitos)","example":12345678901,"maxLength":11,"minLength":5,"pattern":"^\\d+$"},"example":12345678901},{"name":"orderNumber","in":"query","description":"N√∫mero de ordem do benefici√°rio (exatamente 7 d√≠gitos)","required":false,"schema":{"type":"string","description":"N√∫mero de ordem do benefici√°rio (exatamente 7 d√≠gitos)","example":1234567,"pattern":"^\\d{7}$"},"example":1234567},{"name":"deceasedName","in":"query","description":"Nome do falecido (busca parcial, apenas letras, espa√ßos, h√≠fens e ap√≥strofos)","required":false,"schema":{"type":"string","description":"Nome do falecido (busca parcial, apenas letras, espa√ßos, h√≠fens e ap√≥strofos)","example":"JO√ÉO DA SILVA","maxLength":200,"minLength":3,"pattern":"^[\\p{L}\\s'-]*$"},"example":"JO√ÉO DA SILVA"},{"name":"birthDate","in":"query","description":"Data de nascimento do falecido","required":false,"schema":{"type":"string","format":"year-month-day","description":"Data de nascimento do falecido","example":"1980-05-15","pattern":"^\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$"},"example":"1980-05-15"},{"name":"parentName","in":"query","description":"Nome de filia√ß√£o (m√£e ou pai) do falecido (busca parcial)","required":false,"schema":{"type":"string","description":"Nome de filia√ß√£o (m√£e ou pai) do falecido (busca parcial)","example":"MARIA SILVA","maxLength":200,"minLength":3,"pattern":"^[\\p{L}\\s'-]*$"},"example":"MARIA SILVA"},{"name":"exactFieldSet","in":"query","description":"Conjunto de campos que devem ter match exato (filtro combinado com AND)","required":false,"schema":{"type":"array","description":"Conjunto de campos que devem ter match exato (filtro combinado com AND)","example":["CPF","NOME"],"items":{"type":"string","description":"Conjunto de campos que devem ter match exato (filtro combinado com AND)","enum":["CPF","NOME","NASCIMENTO","FILIACAO_1","FILIACAO_2"],"example":["CPF","NOME"]},"maxItems":4,"minItems":0,"uniqueItems":true},"example":["CPF","NOME"]},{"name":"evidenceLevelSet","in":"query","description":"Conjunto de n√≠veis de evid√™ncia aceitos (filtro combinado com OR)","required":false,"schema":{"type":"array","description":"Conjunto de n√≠veis de evid√™ncia aceitos (filtro combinado com OR)","example":["ALTA","MEDIA"],"items":{"type":"string","description":"Conjunto de n√≠veis de evid√™ncia aceitos (filtro combinado com OR)","enum":["EXATA","EXCELENTE","MUITO_ALTA","ALTA","MEDIA","BAIXA","MUITO_BAIXA"],"example":["ALTA","MEDIA"]},"maxItems":6,"minItems":0,"uniqueItems":true},"example":["ALTA","MEDIA"]},{"name":"startMonthYear","in":"query","description":"M√™s/ano inicial do per√≠odo de consulta (refer√™ncia do arquivo)","required":false,"schema":{"type":"string","format":"year-month","description":"M√™s/ano inicial do per√≠odo de consulta (refer√™ncia do arquivo)","example":"2024-01","pattern":"^\\d{4}-(0[1-9]|1[0-2])$"},"example":"2024-01"},{"name":"endMonthYear","in":"query","description":"M√™s/ano final do per√≠odo de consulta (refer√™ncia do arquivo)","required":false,"schema":{"type":"string","format":"year-month","description":"M√™s/ano final do per√≠odo de consulta (refer√™ncia do arquivo)","example":"2024-12","pattern":"^\\d{4}-(0[1-9]|1[0-2])$"},"example":"2024-12"},{"name":"page","in":"query","description":"Zero-based page index (0..N)","required":false,"schema":{"type":"integer","default":0,"minimum":0}},{"name":"size","in":"query","description":"The size of the page to be returned","required":false,"schema":{"type":"integer","default":20,"minimum":1}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property,(asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","required":false,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"Lista de cruzamentos retornada com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page"}}}},"400":{"description":"Par√¢metros de consulta inv√°lidos"}}}},"/api/v1/crossings/{id}/death-details":{"get":{"tags":["Crossings"],"summary":"Obt√©m detalhes do √≥bito associado ao cruzamento","description":"Retorna informa√ß√µes completas do registro de √≥bito (SIRC) associado ao cruzamento, incluindo:\n- Data da opera√ß√£o no SIRC\n- Data de lavratura da certid√£o de √≥bito\n- codigo ibge do munic√≠pio de √≥bito\n- Outros campos do registro SIRC\n","operationId":"getDeathDetails","parameters":[{"name":"id","in":"path","description":"UUID do cruzamento","required":true,"schema":{"type":"string","format":"uuid"},"example":"550e8400-e29b-41d4-a716-446655440000"}],"responses":{"200":{"description":"Detalhes do √≥bito retornados com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeathDetailsDTO"}}}},"404":{"description":"Cruzamento n√£o encontrado com o ID fornecido"},"400":{"description":"ID inv√°lido"}}}},"/api/v1/crossings/{id}/crossing-details":{"get":{"tags":["Crossings"],"summary":"Obt√©m detalhes de um cruzamento espec√≠fico","description":"Retorna informa√ß√µes detalhadas de um cruzamento espec√≠fico, incluindo:\n- Dados completos da pessoa no SIGPES\n- Scores de similaridade por campo\n","operationId":"getCrossingDetails","parameters":[{"name":"id","in":"path","description":"UUID do cruzamento","required":true,"schema":{"type":"string","format":"uuid"},"example":"550e8400-e29b-41d4-a716-446655440000"}],"responses":{"200":{"description":"Detalhes do cruzamento retornados com sucesso","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrossingDetailsDTO"}}}},"404":{"description":"Cruzamento n√£o encontrado com o ID fornecido"},"400":{"description":"ID inv√°lido"}}}},"/api/v1/files/{fileId}":{"delete":{"tags":["Files"],"summary":"Exclui arquivo SIRC","description":"Realiza exclus√£o l√≥gica (soft delete) de um arquivo SIRC.\nO arquivo permanece no banco de dados com status DELETED.\n\n**Restri√ß√µes:**\n- Arquivo n√£o pode estar em processamento (status PROCESSING)\n- Arquivo j√° exclu√≠do n√£o pode ser exclu√≠do novamente\n\n**Efeitos:**\n- Status alterado para DELETED\n- Arquivo n√£o aparece mais em listagens padr√£o\n- Cruzamentos associados s√£o mantidos para auditoria\n","operationId":"deleteFile","parameters":[{"name":"fileId","in":"path","description":"UUID do arquivo a ser exclu√≠do","required":true,"schema":{"type":"string","format":"uuid"},"example":"550e8400-e29b-41d4-a716-446655440000"}],"responses":{"204":{"description":"Arquivo exclu√≠do com sucesso"},"404":{"description":"Arquivo n√£o encontrado com o ID fornecido"},"400":{"description":"Arquivo n√£o pode ser exclu√≠do devido ao status atual"}}}}},"components":{"schemas":{"ScheduleRequest":{"type":"object","description":"Request para agendamento de processamento","properties":{"scheduledDate":{"type":"string","format":"date","description":"Data futura para processamento autom√°tico","example":"2024-12-31"}}},"AuditMatchingRequest":{"type":"object","description":"Request para auditoria de matching de uma pessoa espec√≠fica","properties":{"orderNumber":{"type":"string","description":"N√∫mero de ordem (SARAM) da pessoa","example":123456,"minLength":1},"yearMonth":{"type":"string","description":"Ano-m√™s de refer√™ncia no formato yyyy-MM","example":"2024-03","pattern":"^\\d{4}-\\d{2}$"}},"required":["orderNumber","yearMonth"]},"AdditionalSircInfo":{"type":"object","properties":{"executionDate":{"type":"string","format":"date"},"operationDateTime":{"type":"string","format":"date-time"},"operationType":{"type":"string","enum":["INSERCAO","ALTERACAO","EXCLUSAO"]},"registrationCode":{"type":"string"},"declarationNumberDeceased":{"type":"string"},"deceasedCertificateIdentifier":{"type":"string"},"registryOfficeCode":{"type":"string"},"ibgeMunicipalityCodeRegistryOffice":{"type":"string"}}},"AuditFileResult":{"type":"object","properties":{"fileId":{"type":"string","format":"uuid"},"fileName":{"type":"string"},"referenceDate":{"type":"string","format":"date"},"totalDeceased":{"type":"integer","format":"int32"},"matches":{"type":"array","items":{"$ref":"#/components/schemas/AuditMatchResult"}},"processingTimeMs":{"type":"integer","format":"int64"},"matchCount":{"type":"integer","format":"int32"}}},"AuditMatchResult":{"type":"object","properties":{"deceased":{"$ref":"#/components/schemas/Deceased"},"score":{"$ref":"#/components/schemas/MatchingScore"},"matchReasons":{"type":"array","items":{"type":"string","enum":["CPF Exato","CPF Sliding Window","Data de Nascimento","Tuplas de Nome","M√∫ltiplos Crit√©rios"]},"uniqueItems":true},"formattedReasons":{"type":"string"}}},"AuditReport":{"type":"object","properties":{"auditedSaram":{"type":"string"},"auditedPerson":{"$ref":"#/components/schemas/Person"},"auditedPaymentInfo":{"$ref":"#/components/schemas/PaymentInfo"},"periodStart":{"type":"string","format":"date"},"periodEnd":{"type":"string","format":"date"},"fileResults":{"type":"array","items":{"$ref":"#/components/schemas/AuditFileResult"}},"totalFiles":{"type":"integer","format":"int32"},"totalDeceased":{"type":"integer","format":"int32"},"totalMatches":{"type":"integer","format":"int32"},"totalProcessingTimeMs":{"type":"integer","format":"int64"},"executedAt":{"type":"string","format":"date-time"},"conversionRate":{"type":"number","format":"double"},"averageProcessingTimePerFile":{"type":"integer","format":"int64"}}},"CPF":{"type":"object","properties":{"value":{"type":"string"},"valid":{"type":"boolean"}}},"Deceased":{"type":"object","properties":{"person":{"$ref":"#/components/schemas/Person"},"additionalInfo":{"$ref":"#/components/schemas/AdditionalSircInfo"}}},"MatchingScore":{"type":"object","properties":{"totalScore":{"type":"number"},"cpfScore":{"type":"number"},"nameScore":{"type":"number"},"birthDateScore":{"type":"number"},"parent1Score":{"type":"number"},"parent2Score":{"type":"number"},"sameGender":{"type":"boolean"}}},"PaymentInfo":{"type":"object","properties":{"orderNumber":{"type":"string"},"yearMonthCode":{"type":"string"},"paymentStatus":{"type":"string","enum":["ABR","AEX","BDB","BTM","DST","EMA","IAC","INC","REA","STM"]}}},"Person":{"type":"object","properties":{"cpf":{"$ref":"#/components/schemas/CPF"},"birthDate":{"type":"string","format":"date"},"gender":{"type":"string","enum":["MASCULINO","FEMININO"]},"name":{"type":"string"},"parent1":{"type":"string"},"parent2":{"type":"string"},"deathDate":{"type":"string","format":"date"},"genderName":{"type":"string"},"cpfvalue":{"type":"string"}}},"Page":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"unpaged":{"type":"boolean"},"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"unsorted":{"type":"boolean"},"sorted":{"type":"boolean"}}},"DeathDetailsDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"executionDate":{"type":"string","format":"date"},"operationDateTime":{"type":"string","format":"date-time"},"registrationCode":{"type":"string"},"declarationNumberDeceased":{"type":"string"},"deceasedCertificateIdentifier":{"type":"string"},"registryOfficeCode":{"type":"string"},"ibgeMunicipalityCodeRegistryOffice":{"type":"string"}}},"CrossingDetailsDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"sigpesPerson":{"$ref":"#/components/schemas/PersonDTO"},"matchingScore":{"$ref":"#/components/schemas/MatchingScoreDTO"}}},"MatchingScoreDTO":{"type":"object","properties":{"totalScore":{"type":"number"},"cpfScore":{"type":"number"},"nameScore":{"type":"number"},"birthDateScore":{"type":"number"},"parent1Score":{"type":"number"},"parent2Score":{"type":"number"},"sameGender":{"type":"boolean"}}},"PersonDTO":{"type":"object","properties":{"cpf":{"type":"string"},"birthDate":{"type":"string","format":"date"},"gender":{"type":"string"},"personName":{"type":"string"},"parent1":{"type":"string"},"parent2":{"type":"string"},"deathDate":{"type":"string","format":"date"}}}}}}